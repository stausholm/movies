<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <link rel="icon" href="<%= BASE_URL %>favicon.ico">
    <title><%= htmlWebpackPlugin.options.title %></title>
    <!-- Tell the browser UA stylesheet we support dark and light scheme and we prefer dark.
      Indicate which default UA scheme to use immediately, until our own styles have been loaded. Should help prevent flash of wrong theme. -->
    <meta name="color-scheme" content="dark light">
    <script>
      // set data-theme as early as possible to prevent flash of wrong theme 
      // This is placed here instead of e.g. app.vue created() to minimize any potential of unwanted "flash of wrong theme", 
      // that could occur when the js is loaded after the stylesheet 
      const persistedColorPreference = window.localStorage.getItem('<%= htmlWebpackPlugin.options.colorThemeStorageKey %>');
      const hasPersistedPreference = typeof persistedColorPreference === 'string';

      if (hasPersistedPreference) {
        document.documentElement.setAttribute('data-theme', persistedColorPreference);
      }
    </script>
  </head>
  <body style="margin: 0;">
    <script>
      // this is added here, so that it comes after the <meta> theme-color that vue adds in <head> when generating the production files
      const persistedColorPreferenceColor = window.localStorage.getItem('<%= htmlWebpackPlugin.options.colorThemeColorStorageKey %>');
      const hasPersistedColorPreference = typeof persistedColorPreferenceColor === 'string';

      if (hasPersistedColorPreference) {
        const metaThemeColor = document.querySelector('meta[name=theme-color]');
        if (metaThemeColor) {
          metaThemeColor.setAttribute('content', persistedColorPreferenceColor);
        }
      }
    </script>
    <noscript>
      <div class="container pt-2 pb-2 text-center d-flex flex-column justify-center align-center" style="min-height:100vh;">
        <img src="<%= BASE_URL %>img/icons/android-chrome-192x192.png" alt="logo" class="mb-1" />
        <h1>Oops, that's awkward.</h1>
        <p><strong><%= htmlWebpackPlugin.options.title %></strong> is a <a class="link" href="https://en.wikipedia.org/wiki/Web_application" target="_blank">web application</a>
          and requires JavaScript to run. Please consider enabling it.</p>
          <p class="mb-0">More info: <a class="link" href="<%= htmlWebpackPlugin.options.repositoryUrl %>" target="_blank"><%= htmlWebpackPlugin.options.title %> repository</a></p>
      </div>
    </noscript>
    <div id="app">
      <!-- TODO: better loading content -->
      <!-- <div style="overflow: hidden;">
        <div style="width:100vw;height:100vh;display:flex;justify-content:center;align-items:center;">
          <svg xmlns="http://www.w3.org/2000/svg" width="240" height="240" viewBox="0 0 24 24">
            <g fill="currentColor">
              <g>
                <path d="M0,0h24v24H0V0z" fill="none"></path>
                <path d="M8.16,3L6.75,4.41L9.34,7H4C2.89,7 2,7.89 2,9V19C2,20.11 2.89,21 4,21H20C21.11,21 22,20.11 22,19V9C22,7.89 21.11,7 20,7H14.66L17.25,4.41L15.84,3L12,6.84L8.16,3M4,9H17V19H4V9M19.5,9A1,1 0 0,1 20.5,10A1,1 0 0,1 19.5,11A1,1 0 0,1 18.5,10A1,1 0 0,1 19.5,9M19.5,12A1,1 0 0,1 20.5,13A1,1 0 0,1 19.5,14A1,1 0 0,1 18.5,13A1,1 0 0,1 19.5,12Z"></path>
              </g>
            </g>
          </svg>
        </div>
      </div> -->
    </div>
    <!-- built files will be auto injected -->
  </body>
</html>
